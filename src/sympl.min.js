var SYMPL={};SYMPL.Math=function(){},SYMPL.Math.prototype={},SYMPL.Math.gcd=function(t,e){return 0===e?t:SYMPL.Math.gcd(e,t%e)},SYMPL.Math.lcm=function(t,e){return t/SYMPL.Math.gcd(t,e)*e},SYMPL.Math.factorial=function(t){return 0===t?1:t*SYMPL.Math.factorial(t-1)},SYMPL.Math.isInt=function(t){return t%1===0},SYMPL.Math.isEven=function(t){return t%2===0},SYMPL.Math.divMod=function(t,e){return SYMPL.Math.isInt(t)&&SYMPL.Math.isInt(e)?[SYMPL.Math.floor(t/e),t%e]:!1},SYMPL.Tween=function(){if(arguments[0]instanceof SYMPL.Tween)return arguments[0];this.object=arguments[0],this.properties=arguments[1],this.duration=arguments[2],this.easingFunction=arguments[3],this.onProgress=arguments[4],this.onComplete=arguments[5],this.completed=!1,this.starts={},this.changes={},this.startTime=new Date;for(var t in this.properties)this.starts[t]=this.object[t],this.changes[t]=this.properties[t]-this.starts[t]},SYMPL.Tween.prototype={update:function(){var t=new Date-this.startTime;if(t<this.duration){for(var e in this.properties)this.object[e]=this.easingFunction(t,this.starts[e],this.changes[e],this.duration);this.onProgress()}else{t=this.duration;for(var e in this.properties)this.object[e]=this.easingFunction(t,this.starts[e],this.changes[e],this.duration);this.onComplete()}}},SYMPL.Tween.names=["easeLinear","easeInQuad","easeOutQuad","easeInCubic","easeOutCubic","easeInQuart","easeOutQuart","easeInQuint","easeOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInCirc","easeOutCirc","easeInElastic","easeOutElastic","easeInBack","easeOutBack","easeInBounce","easeOutBounce","easeInOutBounce"],SYMPL.Tween.easeLinear=function(t,e,i,n){return i*t/n+e},SYMPL.Tween.easeInQuad=function(t,e,i,n){return i*(t/=n)*t+e},SYMPL.Tween.easeOutQuad=function(t,e,i,n){return-i*(t/=n)*(t-2)+e},SYMPL.Tween.easeInCubic=function(t,e,i,n){return i*(t/=n)*t*t+e},SYMPL.Tween.easeOutCubic=function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e},SYMPL.Tween.easeInQuart=function(t,e,i,n){return i*(t/=n)*t*t*t+e},SYMPL.Tween.easeOutQuart=function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},SYMPL.Tween.easeInQuint=function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},SYMPL.Tween.easeOutQuint=function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},SYMPL.Tween.easeInSine=function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},SYMPL.Tween.easeOutSine=function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e},SYMPL.Tween.easeInOutSine=function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e},SYMPL.Tween.easeInExpo=function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e},SYMPL.Tween.easeOutExpo=function(t,e,i,n){return t==n?e+i:i*(-Math.pow(2,-10*t/n)+1)+e},SYMPL.Tween.easeInCirc=function(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},SYMPL.Tween.easeOutCirc=function(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e},SYMPL.Tween.easeInElastic=function(t,e,i,n,s,h){if(0===t)return e;if(1==(t/=n))return e+i;if(h||(h=.3*n),s<Math.abs(i)){s=i;var r=h/4}else var r=h/(2*Math.PI)*Math.asin(i/s);return-(s*Math.pow(2,10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/h))+e},SYMPL.Tween.easeOutElastic=function(t,e,i,n,s,h){if(0===t)return e;if(1==(t/=n))return e+i;if(h||(h=.3*n),s<Math.abs(i)){s=i;var r=h/4}else var r=h/(2*Math.PI)*Math.asin(i/s);return s*Math.pow(2,-10*t)*Math.sin((t*n-r)*(2*Math.PI)/h)+i+e},SYMPL.Tween.easeInBack=function(t,e,i,n,s){return void 0===s&&(s=1.70158),i*(t/=n)*t*((s+1)*t-s)+e},SYMPL.Tween.easeOutBack=function(t,e,i,n,s){return void 0===s&&(s=1.70158),i*((t=t/n-1)*t*((s+1)*t+s)+1)+e},SYMPL.Tween.easeInBounce=function(t,e,i,n){return i-SYMPL.Tween.easeOutBounce(n-t,0,i,n)+e},SYMPL.Tween.easeOutBounce=function(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:2/2.75>t?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},SYMPL.Tween.easeInOutBounce=function(t,e,i,n){return n/2>t?.5*SYMPL.Tween.easeInBounce(2*t,0,i,n)+e:.5*SYMPL.Tween.easeOutBounce(2*t-n,0,i,n)+.5*i+e},SYMPL.Chance=function(){},SYMPL.Chance.prototype={},SYMPL.Chance.randomRange=function(t,e){return t+Math.random()*(e-t)},SYMPL.Chance.randomInt=function(t,e){return Math.floor(t+Math.random()*(e-t+1))},SYMPL.Chance.randomTween=function(){return SYMPL.Tween[SYMPL.Tween.names[SYMPL.Chance.randomInt(0,SYMPL.Tween.names.length-1)]]},SYMPL.Colour=function(){return arguments[0]instanceof SYMPL.Colour?arguments[0]:void(arguments[0]instanceof String&&"#"===arguments[0].charAt(0)?(this.hex=arguments[0],this.alpha=arguments[1]||1,this.decimal=parseInt(this.hex.slice(1).toString(10)),this.value=this.hex,this.tween=null):arguments[0]instanceof Number&&arguments[1]instanceof Number&&arguments[2]instanceof Number?(this.hex="#"+arguments[0].toString(16)+arguments[1].toString(16)+arguments[2].toString(16),this.alpha=arguments[3]||1,this.decimal=parseInt(this.hex.slice(1).toString(10)),this.value=this.hex,this.tween=null):(this.hex="#000000",this.alpha=1,this.decimal=parseInt(this.hex.slice(1).toString(10)),this.value=this.hex,this.tween=null))},SYMPL.Colour.prototype={shadow:function(t){t.shadowColor=this.value,t.shadowBlur=100*this.alpha},stroke:function(t){t.strokeStyle=this.value,t.globalAlpha=this.alpha},fill:function(t){t.fillStyle=this.value,t.globalAlpha=this.alpha},setTween:function(t,e,i,n,s,h){this.tween=new SYMPL.Tween(this,{decimal:t,alpha:e},i,n,s,h)},update:function(){this.tween.update(),this.hex="#"+this.decimal.toString(16),-1==this.hex.indexOf(".")&&(this.value=this.hex)},getHex:function(){return{h:this.hex}},getHexA:function(){return{h:this.hex,a:this.alpha}},getRGB:function(){return{r:(this.hex.charAt(1)+this.hex.charAt(2)).toString(10),g:(this.hex.charAt(3)+this.hex.charAt(4)).toString(10),b:(this.hex.charAt(5)+this.hex.charAt(6)).toString(10)}},getRGBA:function(){return{r:(this.hex.charAt(1)+this.hex.charAt(2)).toString(10),g:(this.hex.charAt(3)+this.hex.charAt(4)).toString(10),b:(this.hex.charAt(5)+this.hex.charAt(6)).toString(10),a:this.alpha}},strokeStyle:function(t){t.strokeStyle=this.hex},fillStyle:function(t){t.fillStyle=this.hex},equals:function(t){return this.hex==t.hex&&this.alpha==t.alpha},clone:function(){return new SYMPL.Colour(this.hex,this.alpha)}},SYMPL.Colour.random=function(t,e){return void 0===t||void 0===e?"#"+Math.floor(16581375*Math.random()).toString(16):"#"+Math.floor(t+Math.random()*(e%16581375-t+1)).toString(16)},SYMPL.Colour.preset={aqua:"#00ffff",aliceblue:"#f0f8ff",antiquewhite:"#faebd7",black:"#000000",blue:"#0000ff",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgreen:"#006400",darkturquoise:"#00ced1",deepskyblue:"#00bfff",green:"#008000",lime:"#00ff00",mediumblue:"#0000cd",mediumspringgreen:"#00fa9a",navy:"#000080",springgreen:"#00ff7f",teal:"#008080",midnightblue:"#191970",dodgerblue:"#1e90ff",lightseagreen:"#20b2aa",forestgreen:"#228b22",seagreen:"#2e8b57",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",limegreen:"#32cd32",mediumseagreen:"#3cb371",turquoise:"#40e0d0",royalblue:"#4169e1",steelblue:"#4682b4",darkslateblue:"#483d8b",mediumturquoise:"#48d1cc",indigo:"#4b0082",darkolivegreen:"#556b2f",cadetblue:"#5f9ea0",cornflowerblue:"#6495ed",mediumaquamarine:"#66cdaa",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6a5acd",olivedrab:"#6b8e23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7b68ee",lawngreen:"#7cfc00",aquamarine:"#7fffd4",chartreuse:"#7fff00",gray:"#808080",grey:"#808080",maroon:"#800000",olive:"#808000",purple:"#800080",lightskyblue:"#87cefa",skyblue:"#87ceeb",blueviolet:"#8a2be2",darkmagenta:"#8b008b",darkred:"#8b0000",saddlebrown:"#8b4513",darkseagreen:"#8fbc8f",lightgreen:"#90ee90",mediumpurple:"#9370db",darkviolet:"#9400d3",palegreen:"#98fb98",darkorchid:"#9932cc",yellowgreen:"#9acd32",sienna:"#a0522d",brown:"#a52a2a",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",greenyellow:"#adff2f",lightblue:"#add8e6",paleturquoise:"#afeeee",lightsteelblue:"#b0c4de",powderblue:"#b0e0e6",firebrick:"#b22222",darkgoldenrod:"#b8860b",mediumorchid:"#ba55d3",rosybrown:"#bc8f8f",darkkhaki:"#bdb76b",silver:"#c0c0c0",mediumvioletred:"#c71585",indianred:"#cd5c5c",peru:"#cd853f",chocolate:"#d2691e",tan:"#d2b48c",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",thistle:"#d8bfd8",goldenrod:"#daa520",orchid:"#da70d6",palevioletred:"#db7093",crimson:"#dc143c",gainsboro:"#dcdcdc",plum:"#dda0dd",burlywood:"#deb887",lightcyan:"#e0ffff",lavender:"#e6e6fa",darksalmon:"#e9967a",palegoldenrod:"#eee8aa",violet:"#ee82ee",azure:"#f0ffff",honeydew:"#f0fff0",khaki:"#f0e68c",lightcoral:"#f08080",sandybrown:"#f4a460",beige:"#f5f5dc",mintcream:"#f5fffa",wheat:"#f5deb3",whitesmoke:"#f5f5f5",ghostwhite:"#f8f8ff",lightgoldenrodyellow:"#fafad2",linen:"#faf0e6",salmon:"#fa8072",oldlace:"#fdf5e6",bisque:"#ffe4c4",blanchedalmond:"#ffebcd",coral:"#ff7f50",cornsilk:"#fff8dc",darkorange:"#ff8c00",deeppink:"#ff1493",floralwhite:"#fffaf0",fuchsia:"#ff00ff",gold:"#ffd700",hotpink:"#ff69b4",ivory:"#fffff0",lavenderblush:"#fff0f5",lemonchiffon:"#fffacd",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightyellow:"#ffffe0",magenta:"#ff00ff",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",orange:"#ffa500",orangered:"#ff4500",papayawhip:"#ffefd5",peachpuff:"#ffdab9",pink:"#ffc0cb",red:"#ff0000",seashell:"#fff5ee",snow:"#fffafa",tomato:"#ff6347",white:"#ffffff",yellow:"#ffff00",rebeccapurple:"#663399"},SYMPL.Size2=function(){return arguments[0]instanceof SYMPL.Size2?arguments[0]:(this.width=arguments[0]||0,this.height=arguments[1]||0,this.tween=null,void 0)},SYMPL.Size2.prototype={setTween:function(t,e,i,n,s,h){this.tween=new SYMPL.Tween(this,{width:t,height:e},i,n,s,h)},area:function(){return this.width*this.height},equals:function(t){return this.width==t.width&&this.height==t.height},clone:function(){return new SYMPL.Size2(this.width,this.height)}},SYMPL.Size2.preset={_1K_UHD:new SYMPL.Size2(960,540),_2K_UHD:new SYMPL.Size2(1920,1080),_3K_UHD:new SYMPL.Size2(2880,1620),_4K_UHD:new SYMPL.Size2(3840,2160),_5K_UHD:new SYMPL.Size2(4800,2700),_6K_UHD:new SYMPL.Size2(5760,3240),_7K_UHD:new SYMPL.Size2(6720,3780),_8K_UHD:new SYMPL.Size2(7680,4320),_1K:new SYMPL.Size2(1024,576),_2K:new SYMPL.Size2(2048,1152),_3K:new SYMPL.Size2(3072,1728),_4K:new SYMPL.Size2(4096,2304),_5K:new SYMPL.Size2(5120,2160),_6K:new SYMPL.Size2(6144,3456),_7K:new SYMPL.Size2(7168,4032),_8K:new SYMPL.Size2(8192,4608)},SYMPL.Size3=function(){return arguments[0]instanceof SYMPL.Size3?arguments[0]:(this.width=arguments[0]||0,this.height=arguments[1]||0,this.depth=arguments[2]||0,this.tween=null,void 0)},SYMPL.Size3.prototype={setTween:function(t,e,i,n,s,h,r){this.tween=new SYMPL.Tween(this,{width:t,height:e,depth:i},n,s,h,r)},volume:function(){return this.width*this.height*this.depth},equals:function(t){return this.width==t.width&&this.height==t.height&&this.depth==t.depth},clone:function(){return new SYMPL.Size3(this.width,this.height,this.depth)}},SYMPL.Vector2=function(){return arguments[0]instanceof SYMPL.Vector2?arguments[0]:(this.x=arguments[0]||0,this.y=arguments[1]||0,this.tween=null,void 0)},SYMPL.Vector2.prototype={stroke:function(t,e){t.beginPath(),t.arc(this.x,this.y,e||1,0,2*Math.PI,!1),t.stroke()},fill:function(t,e){t.beginPath(),t.arc(this.x,this.y,e||1,0,2*Math.PI,!1),t.fill()},setTween:function(t,e,i,n,s,h){this.tween=new SYMPL.Tween(this,{x:t,y:e},i,n,s,h)},rotate:function(t,e){var i=Math.sin(t),n=Math.cos(t),s=this.x-e.x,h=this.y-e.y;this.x=e.x+s*n-h*i,this.y=e.y+h*n+s*i},add:function(t){return t instanceof SYMPL.Vector2?new SYMPL.Vector2(this.x+t.x,this.y+t.y):new SYMPL.Vector2(this.x+t,this.y+t)},addTo:function(t){t instanceof SYMPL.Vector2?(this.x+=t.x,this.y+=t.y):(this.x+=t,this.y+=t)},subtract:function(t){return t instanceof SYMPL.Vector2?new SYMPL.Vector2(this.x-t.x,this.y-t.y):new SYMPL.Vector2(this.x-t,this.y-t)},subtractFrom:function(t){t instanceof SYMPL.Vector2?(this.x-=t.x,this.y-=t.y):(this.x-=t,this.y-=t)},multiply:function(t){return t instanceof SYMPL.Vector2?new SYMPL.Vector2(this.x*t.x,this.y*t.y):new SYMPL.Vector2(this.x*t,this.y*t)},multiplyBy:function(t){t instanceof SYMPL.Vector2?(this.x*=t.x,this.y*=t.y):(this.x*=t,this.y*=t)},divide:function(t){return t instanceof SYMPL.Vector2?new SYMPL.Vector2(this.x/t.x,this.y/t.y):new SYMPL.Vector2(this.x/t,this.y/t)},divideBy:function(t){t instanceof SYMPL.Vector2?(this.x/=t.x,this.y/=t.y):(this.x/=t,this.y/=t)},equals:function(t){return this.x==t.x&&this.y==t.y},dot:function(t){return this.x*t.x+this.y*t.y},length:function(){return Math.sqrt(this.dot(this))},unit:function(){this.divide(this.length())},clone:function(){return new SYMPL.Vector2(this.x,this.y)}},SYMPL.Vector2.negative=function(t,e){return e.x=-t.x,e.y=-t.y,e},SYMPL.Vector2.add=function(t,e,i){return e instanceof SYMPL.Vector2?(i.x=t.x+e.x,i.y=t.y+e.y):(i.x=t.x+e,i.y=t.y+e),i},SYMPL.Vector2.subtract=function(t,e,i){return e instanceof SYMPL.Vector2?(i.x=t.x-e.x,i.y=t.y-e.y):(i.x=t.x-e,i.y=t.y-e),i},SYMPL.Vector2.multiply=function(t,e,i){return e instanceof SYMPL.Vector2?(i.x=t.x*e.x,i.y=t.y*e.y):(i.x=t.x*e,i.y=t.y*e),i},SYMPL.Vector2.divide=function(t,e,i){return e instanceof SYMPL.Vector2?(i.x=t.x/e.x,i.y=t.y/e.y):(i.x=t.x/e,i.y=t.y/e),i},SYMPL.Vector2.unit=function(t,e){var i=t.length();return e.x=t.x/i,e.y=t.y/i,e},SYMPL.Vector3=function(){return arguments[0]instanceof SYMPL.Vector3?arguments[0]:(this.x=arguments[0]||0,this.y=arguments[1]||0,this.z=arguments[2]||0,this.sx=0,this.sy=0,this.tween=null,void 0)},SYMPL.Vector3.prototype={setTween:function(t,e,i,n,s,h,r){this.tween=new SYMPL.Tween(this,{x:t,y:e,z:i},n,s,h,r)},add:function(t){return t instanceof SYMPL.Vector3?new SYMPL.Vector3(this.x+t.x,this.y+t.y,this.z+t.z):new SYMPL.Vector3(this.x+t,this.y+t,this.z+t)},addTo:function(t){t instanceof SYMPL.Vector3?(this.x+=t.x,this.y+=t.y,this.z+=t.z):(this.x+=t,this.y+=t,this.z+=t)},subtract:function(t){return t instanceof SYMPL.Vector3?new SYMPL.Vector3(this.x-t.x,this.y-t.y,this.z-t.z):new SYMPL.Vector3(this.x-t,this.y-t,this.z-t)},subtractFrom:function(t){t instanceof SYMPL.Vector3?(this.x-=t.x,this.y-=t.y,this.z-=t.z):(this.x-=t,this.y-=t,this.z-=t)},multiply:function(t){return t instanceof SYMPL.Vector3?new SYMPL.Vector3(this.x*t.x,this.y*t.y,this.z*t.z):new SYMPL.Vector3(this.x*t,this.y*t,this.z*t)},multiplyBy:function(t){t instanceof SYMPL.Vector3?(this.x*=t.x,this.y*=t.y,this.z*=t.z):(this.x*=t,this.y*=t,this.z*=t)},divide:function(t){return t instanceof SYMPL.Vector3?new SYMPL.Vector3(this.x/t.x,this.y/t.y,this.z/t.z):new SYMPL.Vector3(this.x/t,this.y/t,this.z/t)},divideBy:function(t){t instanceof SYMPL.Vector3?(this.x/=t.x,this.y/=t.y,this.z/=t.z):(this.x/=t,this.y/=t,this.z/=t)},rotateX:function(t,e){var i=Math.sin(t),n=Math.cos(t),s=this.z-e.z,h=this.y-e.y;this.y=e.y+h*n-s*i,this.z=e.z+s*n+h*i},rotateY:function(t,e){var i=Math.sin(t),n=Math.cos(t),s=this.z-e.z,h=this.x-e.x;this.x=e.x+h*n-s*i,this.z=e.z+s*n+h*i},rotateZ:function(t,e){var i=Math.sin(t),n=Math.cos(t),s=this.x-e.x,h=this.y-e.y;this.x=e.x+s*n-h*i,this.y=e.y+h*n+s*i},project:function(t,e){var i=t/(t+this.z+e);this.sx=this.x*i,this.sy=this.y*i},equals:function(t){return this.x==t.x&&this.y==t.y&&this.z==t.z},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},cross:function(t){return new SYMPL.Vector3(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},length:function(){return Math.sqrt(this.dot(this))},unit:function(){this.divide(this.length())},clone:function(){return new SYMPL.Vector3(this.x,this.y,this.z)}},SYMPL.Vector3.negative=function(t,e){return e.x=-t.x,e.y=-t.y,e.z=-t.z,e},SYMPL.Vector3.add=function(t,e,i){return e instanceof SYMPL.Vector3?(i.x=t.x+e.x,i.y=t.y+e.y,i.z=t.z+e.z):(i.x=t.x+e,i.y=t.y+e,i.z=t.z+e),i},SYMPL.Vector3.subtract=function(t,e,i){return e instanceof SYMPL.Vector3?(i.x=t.x-e.x,i.y=t.y-e.y,i.z=t.z-e.z):(i.x=t.x-e,i.y=t.y-e,i.z=t.z-e),i},SYMPL.Vector3.multiply=function(t,e,i){return e instanceof SYMPL.Vector3?(i.x=t.x*e.x,i.y=t.y*e.y,i.z=t.z*e.z):(i.x=t.x*e,i.y=t.y*e,i.z=t.z*e),i},SYMPL.Vector3.divide=function(t,e,i){return e instanceof SYMPL.Vector3?(i.x=t.x/e.x,i.y=t.y/e.y,i.z=t.z/e.z):(i.x=t.x/e,i.y=t.y/e,i.z=t.z/e),i},SYMPL.Vector3.cross=function(t,e,i){return i.x=t.y*e.z-t.z*e.y,i.y=t.z*e.x-t.x*e.z,i.z=t.x*e.y-t.y*e.x,i},SYMPL.Vector3.unit=function(t,e){var i=t.length();return e.x=t.x/i,e.y=t.y/i,e.z=t.z/i,e},SYMPL.Camera=function(){arguments[0]instanceof SYMPL.Camera?arguments[0]:arguments[0]instanceof SYMPL.Vector2&&arguments[1]instanceof SYMPL.Size2&&(this.center=arguments[0],this.translate=new SYMPL.Vector2(0,0),this.translate.setTween(this.translate.x,this.translate.y,0,SYMPL.Tween.easeLinear,function(){},function(){}),this.size=arguments[1],this.size.setTween(this.size.width,this.size.height,0,SYMPL.Tween.easeLinear,function(){},function(){}),this.res=arguments[2]||SYMPL.Size2.preset["1K"],this.angle=arguments[3]||0,this.scale=new SYMPL.Vector2(this.size.width/this.res.width,this.size.height/this.res.height),this.scale.setTween(this.scale.x,this.scale.y,0,SYMPL.Tween.easeLinear,function(){},function(){}),this.tween=null)},SYMPL.Camera.prototype={setTween:function(t,e,i,n,s){this.tween=new SYMPL.Tween(this,{angle:t},e,i,n,s)},update:function(){this.translate.tween.update(),this.size.tween.update(),this.scale.tween.update(),null!=this.tween&&this.tween.update(),this.center.addTo(this.translate),this.res.width=this.size.width/this.scale.x,this.res.height=this.size.height/this.scale.y},start:function(t){t.save(),t.scale(this.scale.x,this.scale.y),t.translate(this.translate.x,this.translate.y),t.rotate(this.angle),t.translate(-this.translate.x,-this.translate.y)},end:function(t){t.restore()}},SYMPL.Rectangle=function(){if(arguments[0]instanceof SYMPL.Rectangle)return arguments[0];if(arguments[0]instanceof SYMPL.Vector2&&arguments[1]instanceof SYMPL.Size2){this.center=arguments[0],this.center.setTween(this.center.x,this.center.y,1,SYMPL.Tween.easeLinear,function(){},function(){}),this.size=arguments[1],this.size.setTween(this.size.width,this.size.height,1,SYMPL.Tween.easeLinear,function(){},function(){}),this.angle=arguments[2]||0,this.tween=null,this.points=[this.center.add(new SYMPL.Vector2(-this.size.width/2,-this.size.height/2)),this.center.add(new SYMPL.Vector2(this.size.width/2,-this.size.height/2)),this.center.add(new SYMPL.Vector2(this.size.width/2,this.size.height/2)),this.center.add(new SYMPL.Vector2(-this.size.width/2,this.size.height/2))];for(var t=0;t<this.points.length;t++)this.points[t].rotate(this.angle,this.center)}else if(arguments[0]instanceof SYMPL.Vector2&&arguments[1]instanceof Number&&arguments[2]instanceof Number){this.center=arguments[0],this.center.setTween(this.center.x,this.center.y,0,SYMPL.Tween.easeLinear,function(){},function(){}),this.size=new SYMPL.Size2(arguments[1],arguments[2]),this.size.setTween(this.size.width,this.size.height,0,SYMPL.Tween.easeLinear,function(){},function(){}),this.angle=arguments[3]||0,this.tween=null,this.points=[this.center.add(new SYMPL.Vector2(-this.size.width/2,-this.size.height/2)),this.center.add(new SYMPL.Vector2(this.size.width/2,-this.size.height/2)),this.center.add(new SYMPL.Vector2(this.size.width/2,this.size.height/2)),this.center.add(new SYMPL.Vector2(-this.size.width/2,this.size.height/2))];for(var t=0;t<this.points.length;t++)this.points[t].rotate(this.angle,this.center)}else if(arguments[0]instanceof Number&&arguments[1]instanceof Number&&arguments[2]instanceof SYMPL.Size2){this.center=new SYMPL.Vector2(arguments[0],arguments[1]),this.center.setTween(this.center.x,this.center.y,0,SYMPL.Tween.easeLinear,function(){},function(){}),this.size=arguments[2],this.size.setTween(this.size.width,this.size.height,0,SYMPL.Tween.easeLinear,function(){},function(){}),this.angle=arguments[3]||0,this.tween=null,this.points=[this.center.add(new SYMPL.Vector2(-this.size.width/2,-this.size.height/2)),this.center.add(new SYMPL.Vector2(this.size.width/2,-this.size.height/2)),this.center.add(new SYMPL.Vector2(this.size.width/2,this.size.height/2)),this.center.add(new SYMPL.Vector2(-this.size.width/2,this.size.height/2))];for(var t=0;t<this.points.length;t++)this.points[t].rotate(this.angle,this.center)}else{this.center=new SYMPL.Vector2(arguments[0]||0,arguments[1]||0),this.center.setTween(this.center.x,this.center.y,0,SYMPL.Tween.easeLinear,function(){},function(){}),this.size=new SYMPL.Size2(arguments[2]||0,arguments[3]||0),this.size.setTween(this.size.width,this.size.height,0,SYMPL.Tween.easeLinear,function(){},function(){}),this.angle=arguments[4]||0,this.tween=null,this.points=[this.center.add(new SYMPL.Vector2(-this.size.width/2,-this.size.height/2)),this.center.add(new SYMPL.Vector2(this.size.width/2,-this.size.height/2)),this.center.add(new SYMPL.Vector2(this.size.width/2,this.size.height/2)),this.center.add(new SYMPL.Vector2(-this.size.width/2,this.size.height/2))];for(var t=0;t<this.points.length;t++)this.points[t].rotate(this.angle,this.center)}},SYMPL.Rectangle.prototype={setTween:function(t,e,i,n,s){this.tween=new SYMPL.Tween(this,{angle:t},e,i,n,s)},update:function(){this.center.tween.update(),this.size.tween.update(),null!=this.tween&&this.tween.update(),this.points=[this.center.add(new SYMPL.Vector2(-this.size.width/2,-this.size.height/2)),this.center.add(new SYMPL.Vector2(this.size.width/2,-this.size.height/2)),this.center.add(new SYMPL.Vector2(this.size.width/2,this.size.height/2)),this.center.add(new SYMPL.Vector2(-this.size.width/2,this.size.height/2))];for(var t=0;t<this.points.length;t++)this.points[t].rotate(this.angle,this.center)},intersectRect:function(t){return!(t.points[2].x<this.points[0].x||this.points[2].x<t.points[0].x||t.points[2].y<this.points[0].y||this.points[2].y<t.points[0].y)},getA:function(){return this.points[3].subtract(this.points[0])},getB:function(){return this.points[1].subtract(this.points[0])},getC:function(){return this.points[2].subtract(this.points[1])},getD:function(){return this.points[2].subtract(this.points[3])},setAngle:function(t,e){for(var i=0;i<this.points.length;i++)this.points[i].rotate(t-this.angle,e);this.angle=t},addToAngle:function(t,e){this.angle+=t;for(var i=0;i<this.points.length;i++)this.points[i].rotate(t,e)},perimeter:function(){return this.size.perimeter()},area:function(){return this.size.area()},plotStroke:function(t,e){for(var i=0;i<this.points.length;i++){var n=this.points[i];t.beginPath(),t.arc(n.x,n.y,e||1,0,2*Math.PI,!1),t.stroke()}},plotFill:function(t,e){for(var i=0;i<this.points.length;i++){var n=this.points[i];t.beginPath(),t.arc(n.x,n.y,e||1,0,2*Math.PI,!1),t.fill()}},stroke:function(t){t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y);for(var e=1;e<this.points.length;e++){var i=this.points[e];t.lineTo(i.x,i.y)}t.lineTo(this.points[0].x,this.points[0].y),t.closePath(),t.stroke()},fill:function(t){t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y);for(var e=1;e<this.points.length;e++){var i=this.points[e];t.lineTo(i.x,i.y)}t.lineTo(this.points[0].x,this.points[0].y),t.closePath(),t.fill()}},SYMPL.Triangle=function(){if(arguments[0]instanceof SYMPL.Triangle)return arguments[0];if(arguments[0]instanceof SYMPL.Vector2&&arguments[1]instanceof SYMPL.Size2){this.center=arguments[0],this.center.setTween(this.center.x,this.center.y,1,SYMPL.Tween.easeLinear,function(){},function(){}),this.size=arguments[1],this.size.setTween(this.size.width,this.size.height,1,SYMPL.Tween.easeLinear,function(){},function(){}),this.angle=arguments[2]||0,this.tween=null,this.points=[this.center.add(new SYMPL.Vector2(0,-this.size.height/2)),this.center.add(new SYMPL.Vector2(this.size.width/2,this.size.height/2)),this.center.add(new SYMPL.Vector2(-this.size.width/2,this.size.height/2))];for(var t=0;t<this.points.length;t++)this.points[t].rotate(this.angle,this.center)}else if(arguments[0]instanceof SYMPL.Vector2&&arguments[1]instanceof Number&&arguments[2]instanceof Number){this.center=arguments[0],this.size=new SYMPL.Size2(arguments[1],arguments[2]),this.angle=arguments[3]||0,this.points=[this.center.add(new SYMPL.Vector2(0,-this.size.height/2)),this.center.add(new SYMPL.Vector2(this.size.width/2,this.size.height/2)),this.center.add(new SYMPL.Vector2(-this.size.width/2,this.size.height/2))];for(var t=0;t<this.points.length;t++)this.points[t].rotate(this.angle,this.center)}else if(arguments[0]instanceof Number&&arguments[1]instanceof Number&&arguments[2]instanceof SYMPL.Size2){this.center=new SYMPL.Vector2(arguments[0],arguments[1]),this.size=arguments[2],this.angle=arguments[3]||0,this.points=[this.center.add(new SYMPL.Vector2(0,-this.size.height/2)),this.center.add(new SYMPL.Vector2(this.size.width/2,this.size.height/2)),this.center.add(new SYMPL.Vector2(-this.size.width/2,this.size.height/2))];for(var t=0;t<this.points.length;t++)this.points[t].rotate(this.angle,this.center)}else{this.center=new SYMPL.Vector2(arguments[0]||0,arguments[1]||0),this.size=new SYMPL.Size2(arguments[2]||0,arguments[3]||0),this.angle=arguments[4]||0,this.points=[this.center.add(new SYMPL.Vector2(0,-this.size.height/2)),this.center.add(new SYMPL.Vector2(this.size.width/2,this.size.height/2)),this.center.add(new SYMPL.Vector2(-this.size.width/2,this.size.height/2))];for(var t=0;t<this.points.length;t++)this.points[t].rotate(this.angle,this.center)}},SYMPL.Triangle.prototype={setTween:function(t,e,i,n,s){this.tween=new SYMPL.Tween(this,{angle:t},e,i,n,s)},update:function(){this.center.tween.update(),this.size.tween.update(),null!=this.tween&&this.tween.update(),this.points=[this.center.add(new SYMPL.Vector2(0,-this.size.height/2)),this.center.add(new SYMPL.Vector2(this.size.width/2,this.size.height/2)),this.center.add(new SYMPL.Vector2(-this.size.width/2,this.size.height/2))];for(var t=0;t<this.points.length;t++)this.points[t].rotate(this.angle,this.center)},getA:function(){return this.points[2].subtract(this.points[0])},getB:function(){return this.points[1].subtract(this.points[0])},getC:function(){return this.points[1].subtract(this.points[2])},setAngle:function(t,e){for(var i=0;i<this.points.length;i++)this.points[i].rotate(t-this.angle,e);this.angle=t},addToAngle:function(t,e){this.angle+=t;for(var i=0;i<this.points.length;i++)this.points[i].rotate(t,e)},area:function(){return this.size.area()/2},plotStroke:function(t,e){for(var i=0;i<this.points.length;i++){var n=this.points[i];t.beginPath(),t.arc(n.x,n.y,e||1,0,2*Math.PI,!1),t.stroke()}},plotFill:function(t,e){for(var i=0;i<this.points.length;i++){var n=this.points[i];t.beginPath(),t.arc(n.x,n.y,e||1,0,2*Math.PI,!1),t.fill()}},stroke:function(t){t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y);for(var e=1;e<this.points.length;e++){var i=this.points[e];t.lineTo(i.x,i.y)}t.lineTo(this.points[0].x,this.points[0].y),t.closePath(),t.stroke()},fill:function(t){t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y);for(var e=1;e<this.points.length;e++){var i=this.points[e];t.lineTo(i.x,i.y)}t.lineTo(this.points[0].x,this.points[0].y),t.closePath(),t.fill()}},SYMPL.Oval=function(){return arguments[0]instanceof SYMPL.Oval?arguments[0]:void(arguments[0]instanceof SYMPL.Vector2&&arguments[1]instanceof SYMPL.Size2?(this.center=arguments[0],this.center.setTween(this.center.x,this.center.y,1,SYMPL.Tween.easeLinear,function(){},function(){}),this.size=arguments[1],this.size.setTween(this.size.width,this.size.height,1,SYMPL.Tween.easeLinear,function(){},function(){}),this.angle=arguments[2]||0,this.tween=null):arguments[0]instanceof SYMPL.Vector2&&arguments[1]instanceof Number&&arguments[2]instanceof Number?(this.center=arguments[0],this.size=new SYMPL.Size2(arguments[1],arguments[2]),this.angle=arguments[3]||0):arguments[0]instanceof Number&&arguments[1]instanceof Number&&arguments[2]instanceof SYMPL.Size2?(this.center=new SYMPL.Vector2(arguments[0],arguments[1]),this.size=arguments[2],this.angle=arguments[3]||0):(this.center=new SYMPL.Vector2(arguments[0]||0,arguments[1]||0),this.size=new SYMPL.Size2(arguments[2]||0,arguments[3]||0),this.angle=arguments[4]||0))},SYMPL.Oval.prototype={setTween:function(t,e,i,n,s){this.tween=new SYMPL.Tween(this,{angle:t},e,i,n,s)},update:function(){this.center.tween.update(),this.size.tween.update(),null!=this.tween&&this.tween.update()},setAngle:function(t){this.angle=t},drawEllipse:function(t,e,i,n,s){t.beginPath(),t.moveTo(e,i-s/2),t.bezierCurveTo(e+n/2,i-s/2,e+n/2,i+s/2,e,i+s/2),t.bezierCurveTo(e-n/2,i+s/2,e-n/2,i-s/2,e,i-s/2),t.fillStyle="red",t.fill(),t.closePath()},fill:function(t){t.beginPath(),null!=t.ellipse?t.ellipse(this.center.x,this.center.y,this.size.width/2,this.size.height/2,this.angle,0,2*Math.PI,!1):(t.save(),t.translate(this.center.x,this.center.y),t.rotate(this.angle||0),t.translate(-this.center.x,-this.center.y),this.drawEllipse(t,this.center.x,this.center.y,this.size.width,this.size.height),t.restore()),t.fill()},stroke:function(t){t.beginPath(),null!=t.ellipse?t.ellipse(this.center.x,this.center.y,this.size.width/2,this.size.height/2,this.angle,0,2*Math.PI,!1):(t.save(),t.translate(this.center.x,this.center.y),t.rotate(this.angle||0),this.drawEllipse(t,this.center.x,this.center.y,this.size.width,this.size.height),t.translate(-this.center.x,-this.center.y),t.restore()),t.stroke()}},SYMPL.Cuboid=function(){if(arguments[0]instanceof SYMPL.Cuboid)return arguments[0];this.center=arguments[0],this.center.setTween(this.center.x,this.center.y,this.center.y,1,SYMPL.Tween.easeLinear,function(){},function(){}),this.size=arguments[1],this.size.setTween(this.size.width,this.size.height,this.size.depth,1,SYMPL.Tween.easeLinear,function(){},function(){}),this.angleX=arguments[2]||0,this.angleY=arguments[3]||0,this.tween=null,this.points=[this.center.add(new SYMPL.Vector3(-this.size.width/2,-this.size.height/2,this.size.depth/2)),this.center.add(new SYMPL.Vector3(this.size.width/2,-this.size.height/2,this.size.depth/2)),this.center.add(new SYMPL.Vector3(this.size.width/2,-this.size.height/2,-this.size.depth/2)),this.center.add(new SYMPL.Vector3(-this.size.width/2,-this.size.height/2,-this.size.depth/2)),this.center.add(new SYMPL.Vector3(-this.size.width/2,this.size.height/2,this.size.depth/2)),this.center.add(new SYMPL.Vector3(this.size.width/2,this.size.height/2,this.size.depth/2)),this.center.add(new SYMPL.Vector3(this.size.width/2,this.size.height/2,-this.size.depth/2)),this.center.add(new SYMPL.Vector3(-this.size.width/2,this.size.height/2,-this.size.depth/2))];for(var t=0;t<this.points.length;t++)this.points[t].rotateX(this.angleX,this.center),this.points[t].rotateY(this.angleY,this.center)},SYMPL.Cuboid.prototype={setTween:function(t,e,i,n,s,h){this.tween=new SYMPL.Tween(this,{angleX:t,angleY:e},i,n,s,h)},update:function(t,e){this.center.tween.update(),this.size.tween.update(),null!=this.tween&&this.tween.update(),this.points=[this.center.add(new SYMPL.Vector3(-this.size.width/2,-this.size.height/2,this.size.depth/2)),this.center.add(new SYMPL.Vector3(this.size.width/2,-this.size.height/2,this.size.depth/2)),this.center.add(new SYMPL.Vector3(this.size.width/2,-this.size.height/2,-this.size.depth/2)),this.center.add(new SYMPL.Vector3(-this.size.width/2,-this.size.height/2,-this.size.depth/2)),this.center.add(new SYMPL.Vector3(-this.size.width/2,this.size.height/2,this.size.depth/2)),this.center.add(new SYMPL.Vector3(this.size.width/2,this.size.height/2,this.size.depth/2)),this.center.add(new SYMPL.Vector3(this.size.width/2,this.size.height/2,-this.size.depth/2)),this.center.add(new SYMPL.Vector3(-this.size.width/2,this.size.height/2,-this.size.depth/2))];for(var i=0;i<this.points.length;i++)this.points[i].rotateX(this.angleX,this.center),this.points[i].rotateY(this.angleY,this.center);this.project(t,e)},project:function(t,e){for(var i=0;i<this.points.length;i++){var n=this.points[i];n.project(t,e)}},stroke:function(t){for(var e=[[0,1,2,3],[0,1,5,4],[0,3,7,4],[1,2,6,5],[2,3,7,6],[4,5,6,7]],i=0;6>i;i++){t.beginPath(),t.moveTo(this.points[e[i][0]].sx,this.points[e[i][0]].sy);for(var n=1;4>n;n++){var s=this.points[e[i][n]];t.lineTo(s.sx,s.sy)}t.lineTo(this.points[e[i][0]].sx,this.points[e[i][0]].sy),t.closePath(),t.stroke();
}},fill:function(t){for(var e=[[0,1,2,3],[0,1,5,4],[0,3,7,4],[1,2,6,5],[2,3,7,6],[4,5,6,7]],i=0;6>i;i++){t.beginPath(),t.moveTo(this.points[e[i][0]].sx,this.points[e[i][0]].sy);for(var n=1;4>n;n++){var s=this.points[e[i][n]];t.lineTo(s.sx,s.sy)}t.lineTo(this.points[e[i][0]].sx,this.points[e[i][0]].sy),t.closePath(),t.fill()}},labelPoints:function(t){for(var e=0;e<this.points.length;e++){var i=this.points[e];t.fillText(e,i.sx,i.sy)}}},SYMPL.Particle=function(){return arguments[0]instanceof SYMPL.Particle?arguments[0]:(this.pos=arguments[0],this.vel=arguments[1],this.acc=arguments[2],this.radius=arguments[3],this.friction=arguments[4],this.bounce=arguments[5],this.gravity=arguments[6],this.colour=arguments[7],this.mass=arguments[8],this.lifeSpan=arguments[9],this.time=0,this.springs=[],this.gravitations=[],void 0)},SYMPL.Particle.prototype={getSpeed:function(){return this.vel.length()},setSpeed:function(t){var e=this.getHeading();this.vel.x=Math.cos(e)*t,this.vel.y=Math.sin(e)*t},getHeading:function(){return Math.atan2(this.vel.y,this.vel.x)},setHeading:function(t){var e=this.getSpeed();this.vel.x=Math.cos(t)*e,this.vel.y=Math.sin(t)*e},addGravitation:function(t){this.removeGravitation(t),this.gravitations.push(t)},removeGravitation:function(t){for(var e=0;e<this.gravitations.length;e+=1)if(t===this.gravitations[e])return void this.gravitations.splice(e,1)},addSpring:function(t,e,i){this.removeSpring(t),this.springs.push({point:t,k:e,length:i||0})},removeSpring:function(t){for(var e=0;e<this.springs.length;e+=1)if(t===this.springs[e].point)return void this.springs.splice(e,1)},handleGravitations:function(){for(var t=0;t<this.gravitations.length;t+=1)this.gravitateTo(this.gravitations[t])},handleSprings:function(){for(var t=0;t<this.springs.length;t+=1){var e=this.springs[t];this.springTo(e.point,e.k,e.length)}},gravitateTo:function(t){var e=t.x-this.x,i=t.y-this.y,n=e*e+i*i,s=Math.sqrt(n),h=t.mass/n,r=e/s*h,a=i/s*h;this.vel.x+=r,this.vel.y+=a},springTo:function(t,e,i){var n=t.x-this.x,s=t.y-this.y,h=Math.sqrt(n*n+s*s),r=(h-i||0)*e;this.vel.x+=n/h*r,this.vel.y+=s/h*r},accelerate:function(){this.vel.addTo(this.acc)},update:function(t){this.handleSprings(),this.handleGravitations(),this.vel.multiplyBy(this.friction),this.vy+=this.gravity*(t||1),this.pos.x+=this.vx*(t||1),this.pos.y+=this.vy*(t||1),this.time+=t||1},render:function(t){t.fillStyle=this.colour,t.beginPath(),t.arc(this.pos.x,this.pos.y,this.radius,0,2*Math.PI,!1),t.fill()}},SYMPL.Settings=function(){if(arguments[0]instanceof SYMPL.Settings)return arguments[0];this.limits=[];for(var t=0;t<arguments.length;t++)this.limits.push(arguments[t])},SYMPL.Settings.prototype={vel:function(){return new SYMPL.Vector2(SYMPL.Chance.randomRange(this.limits[0].min0,this.limits[0].max0),SYMPL.Chance.randomRange(this.limits[0].min1,this.limits[0].max1))},acc:function(){return new SYMPL.Vector2(SYMPL.Chance.randomRange(this.limits[0].min0,this.limits[0].max0),SYMPL.Chance.randomRange(this.limits[0].min1,this.limits[0].max1))},radius:function(){return SYMPL.Chance.randomRange(this.limits[2].min,this.limits[2].max)},friction:function(){return SYMPL.Chance.randomRange(this.limits[3].min,this.limits[3].max)},bounce:function(){return SYMPL.Chance.randomRange(this.limits[4].min,this.limits[4].max)},gravity:function(){return SYMPL.Chance.randomRange(this.limits[5].min,this.limits[5].max)},colour:function(){return"black"},mass:function(){return SYMPL.Chance.randomRange(this.limits[7].min,this.limits[7].max)},lifeSpan:function(){return SYMPL.Chance.randomInt(this.limits[8].min,this.limits[8].max)}},SYMPL.Emitter=function(){return arguments[0]instanceof SYMPL.Emitter?arguments[0]:(this.pos=arguments[0],this.vel=arguments[1],this.settings=arguments[2],this.particles=[],void 0)},SYMPL.Emitter.prototype={addParticle:function(){var t=new SYMPL.Particle(this.pos,this.settings.vel(),this.settings.acc(),this.settings.radius(),this.settings.friction(),this.settings.bounce(),this.settings.gravity(),this.settings.colour(),this.settings.mass(),this.settings.lifeSpan());this.particles.push(t)},removeParticle:function(t){var e=this.particles.indexOf(t);this.particles.splice(e,1)},update:function(t){for(var e=0;e<this.particles.length;e++){var i=this.particles[e];i.update(t),i.lifeSpan<=i.time&&this.removeParticle(i)}},render:function(t){for(var e=0;e<this.particles.length;e++){var i=this.particles[e];i.render(t)}}},SYMPL.Loop=function(){return arguments[0]instanceof SYMPL.Loop?arguments[0]:(this.canvas=arguments[0],this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.width=window.innerWidth,this.height=this.canvas.height=window.innerHeight,this.init=arguments[1]||function(){},this.update=arguments[2]||function(){},this.render=arguments[3]||function(){},this.init(),void 0)},SYMPL.Loop.prototype={run:function(){function t(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}function e(){for(c.tickStart(),i=t(),s+=Math.min(1,(i-h)/1e3);s>o;)s-=o,n.update(a);n.render(s/r,n.ctx),h=i,c.tick(),window.requestAnimationFrame(e,n.canvas)}var i,n=this,s=0,h=t(),r=1,a=1/60,o=r*a,c=new FPSMeter({decimals:1,graph:!0,heat:!0,history:20,theme:"dark",left:"5px"});window.requestAnimationFrame(e)}};
